const a12_0x1e454e=a12_0x382a;(function(_0x28dae1,_0x306fc3){const _0xb3b408=a12_0x382a,_0x466fc2=_0x28dae1();while(!![]){try{const _0x3f32ae=parseInt(_0xb3b408(0x16f))/0x1+parseInt(_0xb3b408(0x17c))/0x2*(parseInt(_0xb3b408(0x178))/0x3)+-parseInt(_0xb3b408(0x188))/0x4+parseInt(_0xb3b408(0x179))/0x5+parseInt(_0xb3b408(0x16e))/0x6+-parseInt(_0xb3b408(0x169))/0x7+-parseInt(_0xb3b408(0x197))/0x8;if(_0x3f32ae===_0x306fc3)break;else _0x466fc2['push'](_0x466fc2['shift']());}catch(_0x3a00a1){_0x466fc2['push'](_0x466fc2['shift']());}}}(a12_0x3584,0xeb595));const axios=require(a12_0x1e454e(0x173)),fs=require('fs'),path=require('path'),{tmpdir}=require('os'),Crypto=require('crypto'),ffmpegPath=require(a12_0x1e454e(0x189))[a12_0x1e454e(0x177)],ffmpeg=require(a12_0x1e454e(0x17f));ffmpeg[a12_0x1e454e(0x193)](ffmpegPath);async function fetchImage(_0x45fefe){const _0x54ca7e=a12_0x1e454e,_0x10e7a2={'Ngtvt':_0x54ca7e(0x19e),'FigEH':_0x54ca7e(0x198),'yBfIz':_0x54ca7e(0x172)};try{const _0x2aeabf=await axios['get'](_0x45fefe,{'responseType':_0x10e7a2[_0x54ca7e(0x17a)]});return _0x2aeabf[_0x54ca7e(0x16b)];}catch(_0x3621f2){console['error'](_0x10e7a2[_0x54ca7e(0x191)],_0x3621f2);throw new Error(_0x10e7a2[_0x54ca7e(0x18e)]);}}async function fetchGif(_0x1dc7e3){const _0x2f30d6=a12_0x1e454e,_0x2051ce={'qEKpC':_0x2f30d6(0x19e),'zVXep':_0x2f30d6(0x184),'vCocS':_0x2f30d6(0x185)};try{const _0x4c8e0e=await axios['get'](_0x1dc7e3,{'responseType':_0x2051ce[_0x2f30d6(0x18c)]});return _0x4c8e0e[_0x2f30d6(0x16b)];}catch(_0x9478a3){console['error'](_0x2051ce['zVXep'],_0x9478a3);throw new Error(_0x2051ce[_0x2f30d6(0x182)]);}}async function gifToSticker(_0x1d7be5){const _0x1e9ba0=a12_0x1e454e,_0xf316e6={'POXuh':_0x1e9ba0(0x18b),'wyjVM':_0x1e9ba0(0x183),'qtyNf':_0x1e9ba0(0x17e),'iAOhz':_0x1e9ba0(0x196),'OrGPg':_0x1e9ba0(0x199),'lLRmr':_0x1e9ba0(0x194),'rFUDn':_0x1e9ba0(0x16d),'csMFO':'webp','aNQNH':function(_0x1002e8){return _0x1002e8();},'hUodl':function(_0x4ba60e,_0x4794af){return _0x4ba60e+_0x4794af;},'REzwM':'hex'},_0x3a178f=path[_0x1e9ba0(0x18d)](_0xf316e6[_0x1e9ba0(0x192)](tmpdir),_0xf316e6['hUodl'](Crypto['randomBytes'](0x6)['toString'](_0xf316e6[_0x1e9ba0(0x19d)]),_0x1e9ba0(0x17d))),_0x4d9bd0=path['join'](_0xf316e6['aNQNH'](tmpdir),Crypto[_0x1e9ba0(0x181)](0x6)[_0x1e9ba0(0x17b)](_0x1e9ba0(0x170))+'.gif');fs[_0x1e9ba0(0x187)](_0x4d9bd0,_0x1d7be5),await new Promise((_0x4baa8b,_0x215c47)=>{const _0xc76064=_0x1e9ba0;ffmpeg(_0x4d9bd0)['on'](_0xf316e6[_0xc76064(0x190)],_0x215c47)['on'](_0xc76064(0x180),()=>_0x4baa8b(!![]))['addOutputOptions']([_0xf316e6[_0xc76064(0x19c)],_0xf316e6[_0xc76064(0x16c)],_0xc76064(0x186),_0xf316e6[_0xc76064(0x18a)],_0xc76064(0x195),'0',_0xf316e6[_0xc76064(0x19a)],_0xf316e6[_0xc76064(0x175)],_0xf316e6['rFUDn'],_0xc76064(0x174),'0'])[_0xc76064(0x16a)](_0xf316e6[_0xc76064(0x171)])[_0xc76064(0x18f)](_0x3a178f);});const _0x211463=fs[_0x1e9ba0(0x19b)](_0x3a178f);return fs[_0x1e9ba0(0x176)](_0x3a178f),fs[_0x1e9ba0(0x176)](_0x4d9bd0),_0x211463;}function a12_0x382a(_0x541c29,_0x5bb41f){const _0x35846b=a12_0x3584();return a12_0x382a=function(_0x382a0a,_0x4fcaac){_0x382a0a=_0x382a0a-0x169;let _0x5aa211=_0x35846b[_0x382a0a];return _0x5aa211;},a12_0x382a(_0x541c29,_0x5bb41f);}module['exports']={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};function a12_0x3584(){const _0x2c11bd=['-vcodec','Error\x20fetching\x20GIF:','Could\x20not\x20fetch\x20GIF.','-vf','writeFileSync','3143424IbsHSV','@ffmpeg-installer/ffmpeg','iAOhz','error','qEKpC','join','yBfIz','save','POXuh','FigEH','aNQNH','setFfmpegPath','default','-loop','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','8334232IuLJPN','Error\x20fetching\x20image:','-preset','OrGPg','readFileSync','wyjVM','REzwM','arraybuffer','4624774JxEClC','toFormat','data','qtyNf','-an','2925102HPkdLp','1776571nNSxxL','hex','csMFO','Could\x20not\x20fetch\x20image.','axios','-vsync','lLRmr','unlinkSync','path','446979GUNQBB','726335aZVvgz','Ngtvt','toString','14KLlRUD','.webp','libwebp','fluent-ffmpeg','end','randomBytes','vCocS'];a12_0x3584=function(){return _0x2c11bd;};return a12_0x3584();}